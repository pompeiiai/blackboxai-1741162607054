{% extends "email/base_email.html" %}

{% block title %}Appointment Reminder{% endblock %}

{% block content %}
<h2 style="color: #4F46E5; font-size: 24px; font-weight: bold; margin: 0 0 20px;">Appointment Reminder</h2>

<p style="font-family: sans-serif; font-size: 14px; font-weight: normal; margin: 0 0 15px;">Dear {{ appointment.user.first_name }},</p>

<p style="font-family: sans-serif; font-size: 14px; font-weight: normal; margin: 0 0 15px;">This is a friendly reminder about your upcoming appointment:</p>
<<<<<<< HEAD
 
=======

>>>>>>> 4314a95 (Sandbox snapshot commit)
<div style="background-color: #f8fafc; border-radius: 5px; padding: 15px; margin: 20px 0;">
    <p style="font-family: sans-serif; font-size: 16px; margin: 0 0 10px;">
        <strong>Date:</strong> {{ appointment.scheduled_time.strftime('%B %d, %Y') }}
    </p>
    <p style="font-family: sans-serif; font-size: 16px; margin: 0 0 10px;">
        <strong>Time:</strong> {{ appointment.scheduled_time.strftime('%I:%M %p') }}
    </p>
    <p style="font-family: sans-serif; font-size: 16px; margin: 0 0 10px;">
        <strong>Doctor:</strong> Dr. {{ appointment.doctor.first_name }} {{ appointment.doctor.last_name }}
    </p>
    <p style="font-family: sans-serif; font-size: 16px; margin: 0;">
        <strong>Type:</strong> {{ appointment.appointment_type|title }}
    </p>
</div> 

<h3 style="color: #1F2937; font-size: 18px; font-weight: bold; margin: 20px 0 10px;">Preparation Instructions:</h3>
<ul style="margin: 0 0 15px; padding-left: 20px;">
    <li style="margin-bottom: 10px;">Please arrive 15 minutes early to complete any necessary paperwork.</li>
    <li style="margin-bottom: 10px;">Bring your ID and insurance information.</li>
    <li style="margin-bottom: 10px;">If you're feeling unwell, please contact us to reschedule.</li>
    {% if appointment.appointment_type == 'consultation' %}
    <li style="margin-bottom: 10px;">Please bring any relevant medical records or test results.</li>
    {% elif appointment.appointment_type == 'preop' %}
    <li style="margin-bottom: 10px;">Follow the pre-operative fasting instructions provided.</li>
    <li style="margin-bottom: 10px;">Arrange for someone to drive you home after the appointment.</li>
    {% endif %}
</ul>

<div style="background-color: #FEF2F2; border-radius: 5px; padding: 15px; margin: 20px 0;">
    <p style="color: #991B1B; font-size: 14px; margin: 0;">
        <strong>Need to reschedule?</strong> Please contact us at least 24 hours before your appointment.
    </p>
</div>

<div style="background-color: #EEF2FF; border-radius: 5px; padding: 15px; margin: 20px 0;">
    <h4 style="color: #4F46E5; font-size: 16px; font-weight: bold; margin: 0 0 10px;">Location</h4>
    <p style="font-family: sans-serif; font-size: 14px; margin: 0;">
        123 Medical Center Drive<br>
        Suite 456<br>
        City, State 12345
    </p>
</div>

<table border="0" cellpadding="0" cellspacing="0" class="btn btn-primary" style="border-collapse: separate; mso-table-lspace: 0pt; mso-table-rspace: 0pt; width: 100%; box-sizing: border-box;">
    <tbody>
        <tr>
            <td align="center" style="font-family: sans-serif; font-size: 14px; vertical-align: top; padding-bottom: 15px;">
                <table border="0" cellpadding="0" cellspacing="0" style="border-collapse: separate; mso-table-lspace: 0pt; mso-table-rspace: 0pt; width: auto;">
                    <tbody>
                        <tr>
                            <td style="font-family: sans-serif; font-size: 14px; vertical-align: top; background-color: #4F46E5; border-radius: 5px; text-align: center;">
                                <a href="{{ url_for('confirm_appointment', id=appointment.id, token=confirmation_token, _external=True) }}" target="_blank" style="display: inline-block; color: #ffffff; background-color: #4F46E5; border: solid 1px #4F46E5; border-radius: 5px; box-sizing: border-box; cursor: pointer; text-decoration: none; font-size: 14px; font-weight: bold; margin: 0; padding: 12px 25px; text-transform: capitalize; border-color: #4F46E5;">Confirm Attendance</a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </td>
        </tr>
    </tbody>
</table>

<p style="font-family: sans-serif; font-size: 14px; font-weight: normal; margin: 0 0 15px;">If you have any questions or need to make changes to your appointment, please contact us at:</p>

<div style="background-color: #F3F4F6; border-radius: 5px; padding: 15px; margin: 20px 0;">
    <p style="font-family: sans-serif; font-size: 14px; margin: 0;">
        Phone: (555) 123-4567<br>
        Email: appointments@bariatric.example.com
    </p>
</div>

<p style="font-family: sans-serif; font-size: 14px; font-weight: normal; margin: 0;">Best regards,<br>The Bariatric Surgery Team</p>
{% endblock %}
